exports.tim = function (sock) {
	var socket = sock;
	var bail = false;
	var tick;
	var data = {};
    var ob = {
	    time : function () {
		console.log('****************************************************************__________________________' + bail);
		bail = false;
		console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^$$$$$$$$$$$$$$$$$$$$$$$$$$$$$__tick:' + tick);
		console.log('ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ' +
			'ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ__data from time in tim module');
		console.log(data);
		setTimeout(function () {
	        if (bail === true) {
		        console.log('###############################$$$$$$$$$$$$$$$$$$$$$$$$$$_____bail === true: true__???')
	            tick = -2;
	            socket.emit('timeUp', data);
				return;
            }
            else if (tick < 0) {
                socket.emit('timeUp', data);
                socket.broadcast.emit('timeUp', data);
				bail = true;
		        ob.setBail(true);
		        return;
            }else if (tick >= 0) {
		        console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^___tick:' + tick);
				tick -= 1;
		        data.tick = tick;
				socket.emit('tic', data);
				socket.broadcast.emit('tic', data);
				//socket.broadcast.emit('tic', data);
				console.log('@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@' + tick);
            }  ob.time(data);
        }, 1000);
        // socket.emit('highlightOff');
    }
	    ,setData : function(dat) {
		    data = dat;
		    console.log('?????????????????????????????????????????????????????dat and then data from setData????????????????????????');
		    console.log('?????????????????????????????????????????????????????????????????????????????');
		    console.log('?????????????????????????????????????????????????????????????????????????????');
		    console.log('?????????????????????????????????????????????????????????????????????????????');
		    console.log(dat);
		    console.log('?????????????????????????????????????????????????????????????????????????????');
		    console.log('?????????????????????????????????????????????????????????????????????????????');
		    console.log(data);
		    console.log('?????????????????????????????????????????????????????????????????????????????');
	    }

	    ,getData : function () {
		    return data;
	    }

        ,setBail : function (b) {
		    bail = b;
        }

        ,setTick : function (t) {
            tick = t;	    console.log('****************************************************OOOOOOOOOOOOOOOOOOOO');
		    // socket.emit('highlightOff');
		    console.log('tick____________tick______________________in setTick___should return to app for timer.time(data)__');
        }

        ,getTick : function () {
            return tick;
        }
	};
	return ob;
};

